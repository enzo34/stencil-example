{"file":"login-form.js","mappings":";;AAAA,MAAM,YAAY,GAAG,wOAAwO,CAAC;AAC9P,wBAAe,YAAY;;MCMdA,WAAS;;;;;;;qBACO,EAAE;wBACC,EAAE;;IAMtB,iBAAiB,CAAC,KAAY;QAClC,IAAI,CAAC,KAAK,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;KACzD;IAEO,oBAAoB,CAAC,KAAY;QACrC,IAAI,CAAC,QAAQ,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;KAC5D;IAEO,MAAM,YAAY,CAAC,KAAY;QACnC,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI;YACA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,6BAA6B,EAAE;gBACxD,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE;oBACL,cAAc,EAAE,kBAAkB;iBACrC;gBACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;aACvE,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;gBACd,MAAM,IAAI,KAAK,CAAC,uBAAuB,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;aAC7D;YAED,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChC;QAAC,OAAO,KAAK,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SACvC;KACJ;IAED,MAAM;QACF,QACI,6DAAM,QAAQ,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAC/C,0EAEI,8DAAO,IAAI,EAAC,OAAO,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAI,CACxF,EACR,6EAEI,8DAAO,IAAI,EAAC,UAAU,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAAI,CACjG,EACR,+DAAQ,IAAI,EAAC,QAAQ,YAAe,CACjC,EACT;KACL;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["LoginForm"],"sources":["src/components/login-form/login-form.css?tag=login-form&encapsulation=shadow","src/components/login-form/login-form.tsx"],"sourcesContent":["form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 300px;\r\n  }\r\n  \r\n  label {\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  input {\r\n    padding: 8px;\r\n    margin-top: 5px;\r\n  }\r\n  \r\n  button {\r\n    padding: 10px;\r\n    background-color: blue;\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: darkblue;\r\n  }\r\n  ","import { Component, h, State, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n    tag: 'login-form', // Le nom du tag du composant\r\n    styleUrl: 'login-form.css', // Lien vers le fichier de style\r\n    shadow: true // Utilisation du Shadow DOM pour l'encapsulation\r\n})\r\nexport class LoginForm {\r\n    @State() email: string = '';\r\n    @State() password: string = '';\r\n\r\n    // EventEmitter pour émettre des événements sur succès ou échec\r\n    @Event() loginSuccess: EventEmitter;\r\n    @Event() loginError: EventEmitter;\r\n\r\n    private handleEmailChange(event: Event) {\r\n        this.email = (event.target as HTMLInputElement).value;\r\n    }\r\n\r\n    private handlePasswordChange(event: Event) {\r\n        this.password = (event.target as HTMLInputElement).value;\r\n    }\r\n\r\n    private async handleSubmit(event: Event) {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await fetch('http://localhost:3000/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ email: this.email, password: this.password })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            this.loginSuccess.emit(data);\r\n        } catch (error) {\r\n            this.loginError.emit(error.message);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={(event) => this.handleSubmit(event)}>\r\n                <label>\r\n                    Email:\r\n                    <input type=\"email\" value={this.email} onInput={(event) => this.handleEmailChange(event)} />\r\n                </label>\r\n                <label>\r\n                    Password:\r\n                    <input type=\"password\" value={this.password} onInput={(event) => this.handlePasswordChange(event)} />\r\n                </label>\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n"],"version":3}